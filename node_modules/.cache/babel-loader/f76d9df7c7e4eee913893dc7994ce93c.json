{"remainingRequest":"C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\thread-loader\\dist\\cjs.js!C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\babel-loader\\lib\\index.js!C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\src\\components\\partials\\MainNavbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\src\\components\\partials\\MainNavbar.vue","mtime":1575423706746},{"path":"C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _asyncToGenerator from \"C:\\\\node-projects\\\\Receiving\\\\franchisee\\\\api_vue_receiving\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport { apiUrl, removeToken, tokenApi } from './../../assets/custom/custom.js';\nexport default {\n  data() {\n    return {\n      menu_list: true,\n      user_fullname: this.$session.get('user_fullname')\n    };\n  },\n\n  mounted() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.user_details();\n    })();\n  },\n\n  methods: {\n    fetch_page_body() {\n      return _asyncToGenerator(function* () {\n        try {\n          let result = yield axios.get(apiUrl('system/website/fetch_page_body'));\n          return result.data.BRANCH_NAME;\n        } catch (error) {\n          return 'NOVALICHES';\n        }\n      })();\n    },\n\n    logout() {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        try {\n          let query = {\n            params: {\n              user_id: _this2.$session.get('user_id')\n            },\n            headers: tokenApi('token', 'header')\n          };\n          yield axios.get(apiUrl('purchaser/receive_po/logout'), query);\n\n          _this2.$session.destroy();\n\n          removeToken();\n          window.location.href = '/';\n        } catch (error) {\n          alert('error');\n        }\n      })();\n    },\n\n    user_details() {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        let session_id = _this3.$session.id();\n\n        _this3.$session.renew(session_id);\n\n        if (_this3.user_fullname == 'undefined') {\n          _this3.$session.destroy();\n\n          removeToken();\n          window.location.href = '/';\n        }\n      })();\n    }\n\n  },\n  computed: {\n    branch_name() {\n      let branch_name = this.fetch_page_body();\n      this.$store.commit('branch_name', branch_name);\n      return this.$store.getters.branch_name;\n    }\n\n  }\n};",{"version":3,"sources":["MainNavbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,MAAA,EAAA,WAAA,EAAA,QAAA,QAAA,iCAAA;AAEA,eAAA;AACA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,aAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,eAAA;AAFA,KAAA;AAIA,GANA;;AAOA,EAAA,OAAA,GAAA;AAAA;;AAAA;AACA,YAAA,KAAA,CAAA,YAAA,EAAA;AADA;AAEA,GATA;;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,eAAA,GAAA;AAAA;AACA,YAAA;AACA,cAAA,MAAA,SAAA,KAAA,CAAA,GAAA,CAAA,MAAA,CAAA,gCAAA,CAAA,CAAA;AACA,iBAAA,MAAA,CAAA,IAAA,CAAA,WAAA;AACA,SAHA,CAGA,OAAA,KAAA,EAAA;AACA,iBAAA,YAAA;AACA;AANA;AAOA,KARA;;AASA,IAAA,MAAA,GAAA;AAAA;;AAAA;AACA,YAAA;AACA,cAAA,KAAA,GAAA;AACA,YAAA,MAAA,EAAA;AACA,cAAA,OAAA,EAAA,MAAA,CAAA,QAAA,CAAA,GAAA,CAAA,SAAA;AADA,aADA;AAIA,YAAA,OAAA,EAAA,QAAA,CAAA,OAAA,EAAA,QAAA;AAJA,WAAA;AAMA,gBAAA,KAAA,CAAA,GAAA,CAAA,MAAA,CAAA,6BAAA,CAAA,EAAA,KAAA,CAAA;;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,OAAA;;AACA,UAAA,WAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,GAAA;AACA,SAXA,CAWA,OAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA;AACA;AAdA;AAgBA,KAzBA;;AA0BA,IAAA,YAAA,GAAA;AAAA;;AAAA;AACA,YAAA,UAAA,GAAA,MAAA,CAAA,QAAA,CAAA,EAAA,EAAA;;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,UAAA;;AACA,YAAA,MAAA,CAAA,aAAA,IAAA,WAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,OAAA;;AACA,UAAA,WAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,GAAA;AACA;AAPA;AAQA;;AAlCA,GAVA;AA8CA,EAAA,QAAA,EAAA;AACA,IAAA,WAAA,GAAA;AACA,UAAA,WAAA,GAAA,KAAA,eAAA,EAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,aAAA,EAAA,WAAA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,WAAA;AACA;;AALA;AA9CA,CAAA","sourcesContent":["<template>\r\n    <!-- Main navbar -->\r\n\t<div class=\"navbar navbar-inverse\">\r\n\t\t<div class=\"navbar-header\">\r\n\t\t\t<a class=\"navbar-brand\" href=\"/\">SRS RECEIVING {{ branch_name }}</a>\r\n\r\n\t\t\t<ul class=\"nav navbar-nav pull-right visible-xs-block\">\r\n\t\t\t\t<li><a data-toggle=\"collapse\" data-target=\"#navbar-mobile\"><i class=\"icon-tree5\"></i></a></li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"navbar-collapse collapse\" id=\"navbar-mobile\">\r\n\t\t\t<ul class=\"nav navbar-nav navbar-right\">\r\n\t\t\t\t<li class=\"dropdown dropdown-user\">\r\n\t\t\t\t\t<a class=\"dropdown-toggle\" data-toggle=\"dropdown\">\r\n\t\t\t\t\t\t<img src=\"../../assets/global/images/image.png\" alt=\"\">\r\n\t\t\t\t\t\t<span> {{ user_fullname }}</span>\r\n\t\t\t\t\t\t<i class=\"caret\"></i>\r\n\t\t\t\t\t</a>\r\n\r\n\t\t\t\t\t<ul class=\"dropdown-menu dropdown-menu-right\">\r\n\t\t\t\t\t\t<!-- <li><a href=\"#\"><i class=\"icon-user-plus\"></i> My profile</a></li>\r\n\t\t\t\t\t\t<li><a href=\"#\"><i class=\"icon-coins\"></i> My balance</a></li>\r\n\t\t\t\t\t\t<li><a href=\"#\"><span class=\"badge badge-warning pull-right\">58</span> <i class=\"icon-comment-discussion\"></i> Messages</a></li>\r\n\t\t\t\t\t\t<li class=\"divider\"></li>\r\n\t\t\t\t\t\t<li><a href=\"#\"><i class=\"icon-cog5\"></i> Account settings</a></li> -->\r\n\t\t\t\t\t\t<li><a href=\"#\" v-on:click=\"logout()\"><i class=\"icon-switch2\"></i> Logout</a></li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</div>\r\n\t<!-- /main navbar -->\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport { apiUrl, removeToken, tokenApi } from './../../assets/custom/custom.js'\r\n\r\nexport default {\r\n\tdata(){\r\n\t\treturn  {\r\n\t\t\tmenu_list: true,\r\n\t\t\tuser_fullname: this.$session.get('user_fullname')\r\n\t\t}\r\n\t},\r\n\tasync mounted(){\r\n\t\tawait this.user_details()\r\n\t},\r\n\tmethods:{\r\n\t\tasync fetch_page_body(){\r\n\t\t\ttry {\r\n\t\t\t\tlet result = await axios.get(apiUrl('system/website/fetch_page_body'))\r\n\t\t\t\treturn result.data.BRANCH_NAME\r\n\t\t\t} catch (error) {\r\n\t\t\t\treturn 'NOVALICHES'\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync logout(){\r\n\t\t\ttry {\r\n\t\t\t\tlet query = {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tuser_id: this.$session.get('user_id')\r\n\t\t\t\t\t},\r\n\t\t\t\t\theaders: tokenApi('token', 'header')\r\n\t\t\t\t}\r\n\t\t\t\tawait axios.get(apiUrl('purchaser/receive_po/logout'), query)\r\n\t\t\t\tthis.$session.destroy()\r\n\t\t\t\tremoveToken()\r\n\t\t\t\twindow.location.href = '/'\r\n\t\t\t} catch (error) {\r\n\t\t\t\talert('error')\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tasync user_details() {\r\n\t\t\tlet session_id     = this.$session.id()\r\n\t\t\tthis.$session.renew(session_id)\r\n\t\t\tif(this.user_fullname == 'undefined' ) {\r\n\t\t\t\tthis.$session.destroy()\r\n\t\t\t\tremoveToken()\r\n\t\t\t\twindow.location.href = '/'\r\n\t\t\t}\r\n\t\t} \r\n\t},\r\n\tcomputed:{\r\n\t\tbranch_name(){\r\n\t\t\tlet branch_name = this.fetch_page_body()\r\n\t\t\tthis.$store.commit('branch_name', branch_name)\r\n\t\t\treturn  this.$store.getters.branch_name\r\n\t\t}\r\n    }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/components/partials"}]}