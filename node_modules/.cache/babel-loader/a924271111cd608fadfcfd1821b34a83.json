{"remainingRequest":"C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\babel-loader\\lib\\index.js!C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\src\\components\\partials\\MainNavbar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\src\\components\\partials\\MainNavbar.vue","mtime":1575423706746},{"path":"C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\node-projects\\Receiving\\franchisee\\api_vue_receiving\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\node-projects\\\\Receiving\\\\franchisee\\\\api_vue_receiving\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport { apiUrl, removeToken, tokenApi } from './../../assets/custom/custom.js';\nexport default {\n  data: function data() {\n    return {\n      menu_list: true,\n      user_fullname: this.$session.get('user_fullname')\n    };\n  },\n  mounted: function () {\n    var _mounted = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.user_details();\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  methods: {\n    fetch_page_body: function () {\n      var _fetch_page_body = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var result;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return axios.get(apiUrl('system/website/fetch_page_body'));\n\n              case 3:\n                result = _context2.sent;\n                return _context2.abrupt(\"return\", result.data.BRANCH_NAME);\n\n              case 7:\n                _context2.prev = 7;\n                _context2.t0 = _context2[\"catch\"](0);\n                return _context2.abrupt(\"return\", 'NOVALICHES');\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 7]]);\n      }));\n\n      function fetch_page_body() {\n        return _fetch_page_body.apply(this, arguments);\n      }\n\n      return fetch_page_body;\n    }(),\n    logout: function () {\n      var _logout = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var query;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                query = {\n                  params: {\n                    user_id: this.$session.get('user_id')\n                  },\n                  headers: tokenApi('token', 'header')\n                };\n                _context3.next = 4;\n                return axios.get(apiUrl('purchaser/receive_po/logout'), query);\n\n              case 4:\n                this.$session.destroy();\n                removeToken();\n                window.location.href = '/';\n                _context3.next = 12;\n                break;\n\n              case 9:\n                _context3.prev = 9;\n                _context3.t0 = _context3[\"catch\"](0);\n                alert('error');\n\n              case 12:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 9]]);\n      }));\n\n      function logout() {\n        return _logout.apply(this, arguments);\n      }\n\n      return logout;\n    }(),\n    user_details: function () {\n      var _user_details = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        var session_id;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                session_id = this.$session.id();\n                this.$session.renew(session_id);\n\n                if (this.user_fullname == 'undefined') {\n                  this.$session.destroy();\n                  removeToken();\n                  window.location.href = '/';\n                }\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function user_details() {\n        return _user_details.apply(this, arguments);\n      }\n\n      return user_details;\n    }()\n  },\n  computed: {\n    branch_name: function branch_name() {\n      var branch_name = this.fetch_page_body();\n      this.$store.commit('branch_name', branch_name);\n      return this.$store.getters.branch_name;\n    }\n  }\n};",{"version":3,"sources":["MainNavbar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,MAAA,EAAA,WAAA,EAAA,QAAA,QAAA,iCAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,IADA;AAEA,MAAA,aAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,eAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,OAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAQA,KAAA,YAAA,EARA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,eADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGA,KAAA,CAAA,GAAA,CAAA,MAAA,CAAA,gCAAA,CAAA,CAHA;;AAAA;AAGA,gBAAA,MAHA;AAAA,kDAIA,MAAA,CAAA,IAAA,CAAA,WAJA;;AAAA;AAAA;AAAA;AAAA,kDAMA,YANA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AASA,IAAA,MATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA,gBAAA,KAXA,GAWA;AACA,kBAAA,MAAA,EAAA;AACA,oBAAA,OAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,SAAA;AADA,mBADA;AAIA,kBAAA,OAAA,EAAA,QAAA,CAAA,OAAA,EAAA,QAAA;AAJA,iBAXA;AAAA;AAAA,uBAiBA,KAAA,CAAA,GAAA,CAAA,MAAA,CAAA,6BAAA,CAAA,EAAA,KAAA,CAjBA;;AAAA;AAkBA,qBAAA,QAAA,CAAA,OAAA;AACA,gBAAA,WAAA;AACA,gBAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,GAAA;AApBA;AAAA;;AAAA;AAAA;AAAA;AAsBA,gBAAA,KAAA,CAAA,OAAA,CAAA;;AAtBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA0BA,IAAA,YA1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2BA,gBAAA,UA3BA,GA2BA,KAAA,QAAA,CAAA,EAAA,EA3BA;AA4BA,qBAAA,QAAA,CAAA,KAAA,CAAA,UAAA;;AACA,oBAAA,KAAA,aAAA,IAAA,WAAA,EAAA;AACA,uBAAA,QAAA,CAAA,OAAA;AACA,kBAAA,WAAA;AACA,kBAAA,MAAA,CAAA,QAAA,CAAA,IAAA,GAAA,GAAA;AACA;;AAjCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GAVA;AA8CA,EAAA,QAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,UAAA,WAAA,GAAA,KAAA,eAAA,EAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,aAAA,EAAA,WAAA;AACA,aAAA,KAAA,MAAA,CAAA,OAAA,CAAA,WAAA;AACA;AALA;AA9CA,CAAA","sourcesContent":["<template>\r\n    <!-- Main navbar -->\r\n\t<div class=\"navbar navbar-inverse\">\r\n\t\t<div class=\"navbar-header\">\r\n\t\t\t<a class=\"navbar-brand\" href=\"/\">SRS RECEIVING {{ branch_name }}</a>\r\n\r\n\t\t\t<ul class=\"nav navbar-nav pull-right visible-xs-block\">\r\n\t\t\t\t<li><a data-toggle=\"collapse\" data-target=\"#navbar-mobile\"><i class=\"icon-tree5\"></i></a></li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"navbar-collapse collapse\" id=\"navbar-mobile\">\r\n\t\t\t<ul class=\"nav navbar-nav navbar-right\">\r\n\t\t\t\t<li class=\"dropdown dropdown-user\">\r\n\t\t\t\t\t<a class=\"dropdown-toggle\" data-toggle=\"dropdown\">\r\n\t\t\t\t\t\t<img src=\"../../assets/global/images/image.png\" alt=\"\">\r\n\t\t\t\t\t\t<span> {{ user_fullname }}</span>\r\n\t\t\t\t\t\t<i class=\"caret\"></i>\r\n\t\t\t\t\t</a>\r\n\r\n\t\t\t\t\t<ul class=\"dropdown-menu dropdown-menu-right\">\r\n\t\t\t\t\t\t<!-- <li><a href=\"#\"><i class=\"icon-user-plus\"></i> My profile</a></li>\r\n\t\t\t\t\t\t<li><a href=\"#\"><i class=\"icon-coins\"></i> My balance</a></li>\r\n\t\t\t\t\t\t<li><a href=\"#\"><span class=\"badge badge-warning pull-right\">58</span> <i class=\"icon-comment-discussion\"></i> Messages</a></li>\r\n\t\t\t\t\t\t<li class=\"divider\"></li>\r\n\t\t\t\t\t\t<li><a href=\"#\"><i class=\"icon-cog5\"></i> Account settings</a></li> -->\r\n\t\t\t\t\t\t<li><a href=\"#\" v-on:click=\"logout()\"><i class=\"icon-switch2\"></i> Logout</a></li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</div>\r\n\t<!-- /main navbar -->\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport { apiUrl, removeToken, tokenApi } from './../../assets/custom/custom.js'\r\n\r\nexport default {\r\n\tdata(){\r\n\t\treturn  {\r\n\t\t\tmenu_list: true,\r\n\t\t\tuser_fullname: this.$session.get('user_fullname')\r\n\t\t}\r\n\t},\r\n\tasync mounted(){\r\n\t\tawait this.user_details()\r\n\t},\r\n\tmethods:{\r\n\t\tasync fetch_page_body(){\r\n\t\t\ttry {\r\n\t\t\t\tlet result = await axios.get(apiUrl('system/website/fetch_page_body'))\r\n\t\t\t\treturn result.data.BRANCH_NAME\r\n\t\t\t} catch (error) {\r\n\t\t\t\treturn 'NOVALICHES'\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync logout(){\r\n\t\t\ttry {\r\n\t\t\t\tlet query = {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tuser_id: this.$session.get('user_id')\r\n\t\t\t\t\t},\r\n\t\t\t\t\theaders: tokenApi('token', 'header')\r\n\t\t\t\t}\r\n\t\t\t\tawait axios.get(apiUrl('purchaser/receive_po/logout'), query)\r\n\t\t\t\tthis.$session.destroy()\r\n\t\t\t\tremoveToken()\r\n\t\t\t\twindow.location.href = '/'\r\n\t\t\t} catch (error) {\r\n\t\t\t\talert('error')\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tasync user_details() {\r\n\t\t\tlet session_id     = this.$session.id()\r\n\t\t\tthis.$session.renew(session_id)\r\n\t\t\tif(this.user_fullname == 'undefined' ) {\r\n\t\t\t\tthis.$session.destroy()\r\n\t\t\t\tremoveToken()\r\n\t\t\t\twindow.location.href = '/'\r\n\t\t\t}\r\n\t\t} \r\n\t},\r\n\tcomputed:{\r\n\t\tbranch_name(){\r\n\t\t\tlet branch_name = this.fetch_page_body()\r\n\t\t\tthis.$store.commit('branch_name', branch_name)\r\n\t\t\treturn  this.$store.getters.branch_name\r\n\t\t}\r\n    }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/components/partials"}]}